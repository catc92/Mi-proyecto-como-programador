(()=>{"use strict";let e=[],a=["C","D","H","S"],t=["A","J","Q","K"],r=0,l=0,n=document.querySelector("#pedir"),i=document.querySelector("#parar"),s=document.querySelector("#nuevo"),d=document.querySelectorAll("small"),c=document.querySelector("#jugador-cartas"),o=document.querySelector("#computadora-cartas"),u=()=>{for(let r=2;r<=10;r++)for(let l of a)e.push(r+l);for(let n of a)for(let i of t)e.push(i+n);return e=_.shuffle(e)};u();let $=()=>{if(0===e.length)throw"No hay cartas en el mazo";let a=e.pop();return a};$();let p=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"===a?11:10:1*a},f=e=>{do{let a=$();l+=p(a),d[1].innerText=l;let t=document.createElement("img");if(t.src=`cartas/${a}.png`,t.classList.add("carta"),o.append(t),e>21)break}while(l<e&&e<=21);setTimeout(()=>{l===r?alert("Empate, Nadie Gana :("):e>21?alert("La computadora Gana"):l>21?alert("Felicitaciones, Ganaste... :)"):l>r&&l<=21&&alert("La computadora Gana")},150)};n.addEventListener("click",()=>{let e=$();r+=p(e),d[0].innerText=r;let a=document.createElement("img");a.src=`cartas/${e}.png`,a.classList.add("carta"),c.append(a),r>21?(console.warn("Lo siento, Has perdido."),n.disabled=!0,i.disabled=!0,f(r)):21===r&&(console.warn("21, Excelentes Noticias!!!"),n.disabled=!0,i.disabled=!0,f(r))}),i.addEventListener("click",()=>{n.disabled=!0,i.disabled=!0,f(r)}),s.addEventListener("click",()=>{console.clear(),e=[],e=u(),r=0,l=0,d[0].innerText=0,d[1].innerText=0,o.innerHTML="",c.innerHTML="",n.disabled=!1,i.disabled=!1})})();